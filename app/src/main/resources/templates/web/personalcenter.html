<!DOCTYPE html>
<html xmlns:th="http://www.w3.org/1999/xhtml">
<head lang="en">
    <meta charset="UTF-8">
    <title>个人中心</title>
    <link rel="stylesheet" href="http://cdn.static.runoob.com/libs/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="http://cdn.static.runoob.com/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="http://cdn.static.runoob.com/libs/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <style>
        ul.nav-tabs {
            width: 140px;
            margin-top: 20px;
            border-radius: 4px;
            border: 1px solid #ddd;
            box-shadow: 0 1px 4px rgba(0, 0, 0, 0.067);
        }

        ul.nav-tabs li {
            margin: 0;
            border-top: 1px solid #ddd;
        }

        ul.nav-tabs li:first-child {
            border-top: none;
        }

        ul.nav-tabs li a {
            margin: 0;
            padding: 8px 16px;
            border-radius: 0;
        }

        ul.nav-tabs li:first-child a {
            border-radius: 4px 4px 0 0;
        }

        ul.nav-tabs li:last-child a {
            border-radius: 0 0 4px 4px;
        }

        ul.nav-tabs.affix {
            top: 30px; /* Set the top position of pinned element */
        }

    </style>
</head>
<body>
<div class="container">
    <div><input name="loginId" type="hidden" id="loginId" th:value="${session.loginId}"></div>
    <div class="jumbotron">
        <h3>个人中心</h3>
    </div>
    <div class="row">
        <div class="col-xs-3" id="myScrollspy">
            <ul class="nav nav-tabs nav-stacked" data-spy="affix" data-offset-top="125">
                <li><a href="#" onclick="toPersonal()">个人资料</a></li>
                <li><a href="#" onclick="toShopCar()">我的购物车</a></li>
                <li><a href="#" onclick="toBought()">购买的宝具</a></li>
            </ul>
        </div>
        <div class="col-xs-9" id="content_div" style="height:500px;width:70%;">
            <div id="personal" style="display:block">
                <div class="row" style="margin-bottom:20px;">
                    <div class="col-md-6 mb-3">
                        <label for="name">姓名</label>
                        <input type="text" class="form-control" id="name" name="name" placeholder="" value=""
                               required="">
                    </div>
                </div>
                <div class="row" style="margin-bottom:20px;">
                    <div class="col-md-6 mb-3">
                        <label for="sex">性别</label>
                        <select class="form-control d-block w-100" id="sex" name="sex" required="">
                            <option value="男">男</option>
                            <option value="女">女</option>
                        </select>
                    </div>
                </div>
                <div class="row" style="margin-bottom:20px;">
                    <div class="col-md-6 mb-3">
                        <label for="tel">电话号码</label>
                        <input type="text" class="form-control" id="tel" name="tel" placeholder="" value="" required="">
                    </div>
                </div>
                <div class="row" style="margin-bottom:20px;">
                    <div class="col-md-6 mb-3">
                        </select>
                        <label for="card">身份证号码</label>
                        <input type="text" class="form-control" id="card" name="card" placeholder="" value=""
                               required="">
                    </div>
                </div>
                <div class="row" style="margin-bottom:20px;">
                    <div class="col-md-12 mb-3">
                        <label for="address">地址</label>
                        <input type="text" class="form-control" id="address" name="address" placeholder="">
                    </div>
                </div>
                <button class="btn btn-primary" type="submit">保存</button>
            </div>
            <div id="shopCar" style="display:none">
                <div class="box-body">
                    <table id="tableShop" class="table table-bordered table-hover">
                        <thead>
                        <tr>
                            <th width="15%">订单编号</th>
                            <th width="20%">名称</th>
                            <th width="12%">价格</th>
                            <th width="12%">押金</th>
                            <th width="12%">状态</th>
                            <th width="12%">创建时间</th>
                            <th>操作</th>
                        </tr>
                        </thead>
                        <tbody>

                        </tbody>
                    </table>
                    <div class="row">
                        <div class="col-sm-5"></div>
                        <div class="col-sm-7">
                            <div class="fenye" id="pageShop" style="float: right;">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div id="bought" style="display:none">
                <div class="box-body">
                    <table id="tableBought" class="table table-bordered table-hover">
                        <thead>
                        <tr>
                            <th width="15%">订单编号</th>
                            <th width="20%">名称</th>
                            <th width="12%">价格</th>
                            <th width="12%">押金</th>
                            <th width="12%">状态</th>
                            <th width="12%">创建时间</th>
                            <th>操作</th>
                        </tr>
                        </thead>
                        <tbody>

                        </tbody>
                    </table>
                    <div class="row">
                        <div class="col-sm-5"></div>
                        <div class="col-sm-7">
                            <div class="fenye" id="pageBought" style="float: right;">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- <table class="table" style="font-size: 20px;" border="0">
                <tr class="" style="">
                    <td class="td_left">姓名</td>
                    <td class="td_right">test</td>
                </tr>
                <tr>
                    <td class="td_left">性别</td>
                    <td class="td_right">test</td>
                </tr>
                <tr>
                    <td class="td_left">电话号码</td>
                    <td class="td_right">test</td>
                </tr>
                <tr>
                    <td class="td_left">密码</td>
                    <td class="td_right">test</td>
                </tr>
                <tr>
                    <td class="td_left">地址</td>
                    <td class="td_right">test</td>
                </tr>
                <tr>
                    <td class="td_left">身份证号码</td>
                    <td class="td_right">test</td>
                </tr>
            </table> -->
        </div>
    </div>
</div>
<script>
    $(document).ready(function () {
        $("#myNav").affix({
            offset: {
                top: 125
            }
        });
    });

    function toPersonal() {
        document.getElementById("personal").style.display = "block";
        document.getElementById("shopCar").style.display = "none";
        document.getElementById("bought").style.display = "none";
        var loginId = $("#loginId").val();
        $.ajax({
            url: "/custom/find",
            type: "post",
            data: {loginId: loginId},
            dataType: "json",
            success: function (data) {
                if (data.state == 1) {
                    var entity = data.data;
                    $("#name").val(entity.name);
                    $("#sex").val(entity.sex);
                    $("#tel").val(entity.tel);
                    $("#card").val(entity.card);
                    $("#address").val(entity.address);
                }
            }

        });
    }


    function toShopCar() {
        document.getElementById("personal").style.display = "none";
        document.getElementById("shopCar").style.display = "block";
        document.getElementById("bought").style.display = "none";
        var loginId = $("#loginId").val();
        $.ajax({
            url: "",
            type: "post",
            data: {loginId: loginId},
            dataType: "json",
            success: function (data) {
                var html = "";
                $("#content_div").html(html);
            }

        });
    }


    function toBought() {
        document.getElementById("personal").style.display = "none";
        document.getElementById("shopCar").style.display = "none";
        document.getElementById("bought").style.display = "block";
        var loginId = $("#loginId").val();
        $.ajax({
            url: "",
            type: "post",
            data: {loginId: loginId},
            dataType: "json",
            success: function (data) {
                var html = "";
                $("#content_div").html(html);
            }

        });
    }

    function changeContent(obj, id) {
//        $.ajax({
//            type: "post",
//            url: "${changeTicketURL}",
//            data: {
//                '<portlet:namespace/>projectId': id
//            },
//            error: function (err) {
//                alert("提交失败!");
//            },
//            success: function (data) {
//                var list = eval('(' + data + ')');
//                var table = '';
//                $.each(list, function (i, e) {
//                    console.log(i);
//                    table += '<table class="contentDiv_table" border="1"><tr>';
//                    table += '<td colspan="2" class="table_title"><a class="table_a" href="#" onclick="jump(' + e['tollStationId'] + ',\'' + e['stationName'] + '\')">' + e['stationName'] + '</a></td></tr>';
//                    table += '<tr><td colspan="2" class="table_next">当前通行卡存量：<span class="table_span"  style="color: ' + e['curColor'] + '">' + e['curNum'] + '</span></td></tr>';
//                    table += '<tr><td class="table_td">上个班发：<span class="td_span">' + e['curOut'] + '</span></td>' +
//                        '<td class="table_td">上个班收：<span class="td_span">' + e['curRecycle'] + '</span></td></tr>';
//                    table += '<tr><td class="table_td">当月发：<span class="td_span">' + e['monthOut'] + '</span></td>' +
//                        '<td class="table_td">当月收：<span class="td_span">' + e['monthRecycle'] + '</span></td></tr>';
//                    table += '</table>';
//                })
//                document.getElementById("contentDiv").innerHTML = table;
//            }
//        });
    }
</script>
</body>
</html>