<!DOCTYPE html>
<html lang="en" xmlns:layout="http://www.ultraq.net.nz/web/thymeleaf/layout"
      layout:decorator="common/layout">
<head>
    <meta charset="UTF-8"/>
    <title>AlphaZ</title>
    <link rel="stylesheet" href="resources/plugins/datatables/media/css/dataTables.bootstrap.min.css"/>
    <link rel="stylesheet"
          href="resources/plugins/datatables/extensions/jquery-datatables-checkboxes/css/dataTables.checkboxes.css"/>
</head>
<body>
<div layout:fragment="content">
    <section class="content-header">
        <h1>
            用户管理
        </h1>
        <ol class="breadcrumb">
            <li><a href="#"><i class="fa fa-dashboard"></i>Home</a></li>
            <li class="active">Dashboard</li>
        </ol>
    </section>
    <section class="content">
        <div class="row">
            <div class="col-xs-12">
                <div class="box">
                    <div class="box-header">
                        <h3 class="box-title">用户列表</h3>
                        <button type="button" class="btn btn-primary createbutton">新增</button>
                    </div>
                    <!-- /.box-header -->
                    <div class="box-body">
                        <table id="table" class="table table-bordered table-hover">
                            <thead>
                            <tr>
                                <th width="4%" ></th>
                                <th width="23%">用户名</th>
                                <th width="23%">手机号</th>
                                <th width="23%">生日</th>
                                <th width="23%">注册时间</th>
                            </tr>
                            </thead>
                            <tbody>

                            </tbody>
                        </table>
                    </div>
                    <!-- /.box-body -->
                </div>
            </div>
        </div>
    </section>
    <script src="resources/plugins/datatables/media/js/jquery.dataTables.min.js"></script>
    <script src="resources/plugins/datatables/media/js/dataTables.bootstrap.min.js"></script>
    <script src="resources/plugins/datatables/extensions/jquery-datatables-checkboxes/js/dataTables.checkboxes.min.js"></script>
    <script>
        $(function () {
            $('#table').DataTable({
                paging: true,
                lengthChange: false,
                searching: false,
                ordering: false,
                autoWidth: false,
                processing: true,
                serverSide: true,
                language: {
                    url: 'resources/plugins/datatables/zh-cn.json',
                },
                ajax: {
                    url: 'user/search',
                    data: function (d) {
                        d.keyword = "a"
                        return d
                    }
                },
                columns: [
                    {data: 'userid'},
                    {data: 'username'},
                    {data: 'phone'},
                    {data: 'birthday'},
                    {data: 'registertime'},
                ], columnDefs: [
                    {
                        targets: 0,
                        checkboxes: {
                            'selectRow': true
                        }
                    }
                ],
            })
        })
//        $.each($('#table').DataTable().column(0).checkboxes.selected(), function(index, rowId){
//            console.log(rowId)
//        })
    </script>
</div>

</body>

</html>


